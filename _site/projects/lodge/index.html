<!DOCTYPE html>
<html lang="en_gb">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1.0" name="viewport">

    <meta name="theme-color" content="">
    <meta name="msapplication-navbutton-color" content="">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <link href="/assets/style/main.css" rel="stylesheet" type="text/css">
    <link href="/assets/images/lodge_favicon.ico" rel="shortcut icon" type="image/x-icon"/>
    <link href="/assets/images/lodge_favicon.ico" rel="icon" type="image/x-icon"/>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Lodge</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Lodge" />
<meta name="author" content="Peter McNeil" />
<meta property="og:locale" content="en_GB" />
<meta name="description" content="A novel application of steganography to embed subtitles into video frames for later extraction and display." />
<meta property="og:description" content="A novel application of steganography to embed subtitles into video frames for later extraction and display." />
<link rel="canonical" href="https://pop.ski/projects/lodge/" />
<meta property="og:url" content="https://pop.ski/projects/lodge/" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-06T00:00:00+00:00" />
<script type="application/ld+json">
{"description":"A novel application of steganography to embed subtitles into video frames for later extraction and display.","@type":"BlogPosting","url":"https://pop.ski/projects/lodge/","headline":"Lodge","dateModified":"2019-02-06T00:00:00+00:00","datePublished":"2019-02-06T00:00:00+00:00","author":{"@type":"Person","name":"Peter McNeil"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://pop.ski/projects/lodge/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body class="mode">
<nav class="navbar">
    <a class="visit" href="/">Home</a>
    <a class="visit" href="/projects">Projects</a>
</nav>
<main class="main">
    <div class="project__page__intro">
    
    <picture>
        <source alt="Lodge logo" class="project__page__intro__logo" srcset="/assets/images/lodge_logo.webp" type="image/webp">
        <img alt="Lodge logo" class="project__page__intro__logo" src="/assets/images/lodge_logo.png">
    </picture>
    
    

    
    <div class="project__page__intro__github">
        <a href="https://www.github.com/petermcneil/lodge" target="_blank">
            <svg aria-hidden="true" class="mode" data-icon="github-square" data-prefix="fab" role="img" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
                <path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"
                      fill="currentColor"></path>
            </svg>
        </a>
    </div>
    

    <div class="project__page__intro__tag__container">
        <p class="project__page__intro__tag__header">Language:</p>
        
        <p class="project__page__intro__tag">C++</p>
        
    </div>

    <div class="project__page__intro__tag__container">
        <p class="project__page__intro__tag__header">Tools:</p>
        
        <p class="project__page__intro__tag">FFmpeg</p>
        
        <p class="project__page__intro__tag">Qt</p>
        
        <p class="project__page__intro__tag">Steganography</p>
        
    </div>

</div>
<article class="project__page__content">
    <p>As part of my university course I undertook a project titled “A​n investigation into the use of video steganography in the distribution of subtitles​”.
Below is the TL;DR version of the full dissertation, which can be found at <a href="/assets/final-year-project.pdf">pop.ski/assets/final-year-project.pdf</a>.</p>

<p>Steganography is the art of hiding information in plain sight, such as invisible ink or text hidden inside images. This can also be applied to the digital space and data can be hidden inside an image. Steganography has typically been applied in academic use or as a means for covertly transferring data. However, I thought that this interesting technology could be applied elsewhere.</p>

<p>Subtitling for videos seemed to be the natural target. It is a fragmented space with many different subtitle formats combining with many different video formats which support subtitles to varying degrees. Subtitles could be “burnt” onto the image, however this doesn’t provide the option to turn them off for the user. The idea of the project was to provide one solution for adding subtitles to video files, no matter the format of either, by using video steganography.</p>

<p>There were two separate but similar methods used; least significant bit steganography (LSB) on raw, uncompressed video and modification of the motion vector values on compressed h.264 video. LSB worked well with raw video and I was able to add subtitles to any video format with uncompressed video. However I ran into trouble implementing the compressed video algorithm.</p>

<p>My first attempt tried to “trick” the H264 encoder to believe that the data was important for a block of pixels, which would then be encoded to be restored later. Unfortunately after a frustrating week or two, it became clear this method would not work. Moving on to the second attempt required the modification of the underlying H.264 codec to hide the data in the inter-frame optimisation stage, specifically the motion vectors. This required diving through the code of the decoder in libav/FFmpeg, to find a valid place to inject the motion vector algorithm.</p>

<p>Due to time constraints on the project I was unable to complete this feature. Additionally a major problem with the implementation is the fact that the underlying codec had to be altered, which limits the distribution of subtitles to clients with the subtitle decoder. This greatly hinders adoption and the potential of the product. Ultimately this means the investigation failed, but I learnt a lot throughout the process.</p>

<p>I learnt a great deal during this project, not only from a project management standpoint, but gained a deeper understanding of software development practices and processes such as Software Architecture design and setting up a reliable software project. I also developed deep knowledge around video coding concepts and techniques, and delved into a big open source project. Working in C++ was new to me, as was working with Qt and FFmpeg, by the end of the project I was confident in using them and could work efficiently with them.</p>

</article>



</main>
<footer class="footer">
    <div id="mode__section">
        <svg class="mode__icon mode" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"
                  fill="currentColor"></path>
        </svg>
        <label class="switch" for="mode__toggle">
            <input id="mode__toggle" onclick="changeMode()" type="checkbox"/>
            <span class="slider round"></span>
        </label>
        <svg class="mode__icon mode" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"
                  fill="currentColor"></path>
        </svg>
    </div>
    <p class="footer__copyright">&copy; Peter McNeil, 2019</p>
    <a class="footer__link mode" href="https://github.com/petermcneil/popski">Source code for the website</a>
    <a class="footer__link mode" href="https://github.com/FortAwesome/Font-Awesome/blob/master/LICENSE.txt"><p>License for Font Awesome icons</p></a>
    <script async defer src="/assets/scripts/main.js" type="application/javascript"></script>
</footer>
</body>
</html>