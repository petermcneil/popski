<!DOCTYPE html>
<html lang="en_GB">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <link href="/assets/style/main.css" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
        <link rel="icon" type="image/x-icon" href="favicon.ico" />
        {% seo %}
        <script type="application/javascript">
            const mode = getCookie("mode")
            if (mode == "") {
                turn("light");
            } else {
                turn(mode);
            }

            function toggle() {
                if(document.documentElement.style.getPropertyValue('--text').includes("black")){
                    turn("dark");
                } else {
                    turn("light");
                }
            }
            function turn(mode) {                
                if (mode == "light"){
                    document.documentElement.style.setProperty('--text', 'black');  
                    document.documentElement.style.setProperty('--background', 'white');  
                    setCookie("light")
                } else {
                    document.documentElement.style.setProperty('--text', 'white');  
                    document.documentElement.style.setProperty('--background', 'black');  
                    setCookie("dark")
                }
            }

            function setCookie(mode) {
                var value = mode;
                var domain = window.location.hostname;
                var date = new Date();
                date.setMonth(date.getMonth() + 12);
                var cookieString = "mode="+ mode + ";expires="+ date + "; path=/; secure;domain=." + domain;
                document.cookie=cookieString;
            }

            function getCookie(c_name) {
                if (document.cookie.length > 0) {
                    c_start = document.cookie.indexOf(c_name + "=");
                    if (c_start != -1) {
                        c_start = c_start + c_name.length + 1;
                        c_end = document.cookie.indexOf(";", c_start);
                        if (c_end == -1) {
                            c_end = document.cookie.length;
                        }
                        return unescape(document.cookie.substring(c_start, c_end));
                    }
                }
                return "";
            }
        </script>
    </head>
    <body class="mode">
    <main class="main">
        <button onclick="toggle()">Dark Mode</button>
        {{ content }}
    </main>
    {% include footer.html %}
    </body>
</html>